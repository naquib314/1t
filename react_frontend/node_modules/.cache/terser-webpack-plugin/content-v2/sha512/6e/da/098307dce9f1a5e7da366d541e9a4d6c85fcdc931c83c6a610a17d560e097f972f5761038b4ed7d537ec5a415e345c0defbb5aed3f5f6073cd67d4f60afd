{"map":"{\"version\":3,\"sources\":[\"DoseResponseTab.e929d774283d76ae6871.js\"],\"names\":[\"window\",\"push\",\"3zPy\",\"module\",\"exports\",\"keyCode\",\"searchInput\",\"hasKeyCode\",\"which\",\"charCode\",\"names\",\"foundNamedKey\",\"search\",\"String\",\"codes\",\"toLowerCase\",\"aliases\",\"length\",\"charCodeAt\",\"isEventKey\",\"event\",\"nameOrCode\",\"code\",\"backspace\",\"tab\",\"enter\",\"shift\",\"ctrl\",\"alt\",\"pause/break\",\"caps lock\",\"esc\",\"space\",\"page up\",\"page down\",\"end\",\"home\",\"left\",\"up\",\"right\",\"down\",\"insert\",\"delete\",\"command\",\"left command\",\"right command\",\"numpad *\",\"numpad +\",\"numpad -\",\"numpad .\",\"numpad /\",\"num lock\",\"scroll lock\",\"my computer\",\"my calculator\",\";\",\"=\",\",\",\"-\",\".\",\"/\",\"`\",\"[\",\"\\\\\",\"]\",\"'\",\"windows\",\"⇧\",\"⌥\",\"⌃\",\"⌘\",\"ctl\",\"control\",\"option\",\"pause\",\"break\",\"caps\",\"return\",\"escape\",\"spc\",\"spacebar\",\"pgup\",\"pgdn\",\"ins\",\"del\",\"cmd\",\"i\",\"fromCharCode\",\"title\",\"alias\",\"5lIu\",\"__webpack_exports__\",\"__webpack_require__\",\"d\",\"CharacterFilter\",\"CategoricalFilter\",\"ContinuousFilter\",\"LongTableColors\",\"inferColumnType\",\"Filter\",\"[object Object]\",\"data\",\"colId\",\"filterString\",\"super\",\"this\",\"filter\",\"row\",\"toString\",\"includes\",\"toLocaleLowerCase\",\"filterCategories\",\"has\",\"minVal\",\"maxVal\",\"exludeNAs\",\"excludeNAs\",\"column\",\"columnWithoutNulls\",\"el\",\"numUniques\",\"Array\",\"from\",\"Set\",\"5o91\",\"react__WEBPACK_IMPORTED_MODULE_0__\",\"react_bootstrap__WEBPACK_IMPORTED_MODULE_1__\",\"react_bootstrap__WEBPACK_IMPORTED_MODULE_2__\",\"react_bootstrap__WEBPACK_IMPORTED_MODULE_3__\",\"__rest\",\"s\",\"e\",\"t\",\"p\",\"Object\",\"prototype\",\"hasOwnProperty\",\"call\",\"indexOf\",\"getOwnPropertySymbols\",\"propertyIsEnumerable\",\"_a\",\"bsStyle\",\"selectedEventKey\",\"children\",\"onSelect\",\"description\",\"helperText\",\"rest\",\"childArray\",\"toArray\",\"assign\",\"Toggle\",\"className\",\"helpPopover\",\"id\",\"trigger\",\"delayHide\",\"placement\",\"overlay\",\"style\",\"marginInlineStart\",\"addHelperText\",\"find\",\"child\",\"props\",\"eventKey\",\"dropdownToggle\",\"Menu\",\"map\",\"active\",\"Exbw\",\"content\",\"options\",\"hmr\",\"transform\",\"insertInto\",\"undefined\",\"locals\",\"K9S6\",\"defineProperty\",\"value\",\"default\",\"_len\",\"arguments\",\"validators\",\"_key\",\"allPropTypes\",\"_len2\",\"args\",\"_key2\",\"error\",\"forEach\",\"validator\",\"result\",\"apply\",\"_createChainableTypeChecker2\",\"obj\",\"_createChainableTypeChecker\",\"__esModule\",\"L7kN\",\"r\",\"root\",\"react\",\"MenuItem\",\"LongTable\",\"DropdownButton\",\"context\",\"external_Plotly_\",\"DoseResponsePlot_PlotResizer\",\"elementId\",\"resizeTimer\",\"element\",\"bounds\",\"parentElement\",\"getBoundingClientRect\",\"width\",\"height\",\"newSize\",\"getSize\",\"layout\",\"delay\",\"clearTimeout\",\"setTimeout\",\"resize\",\"$\",\"enqueueResize\",\"colorPalette\",\"DoseResponsePlot_DoseResponsePlot\",\"trace_data\",\"trace\",\"x\",\"y\",\"text\",\"label\",\"marker\",\"size\",\"line\",\"smoothing\",\"type\",\"name\",\"color_index\",\"buildTraceCommonalities\",\"symbol\",\"customdata\",\"replicate\",\"mode\",\"hoverinfo\",\"color\",\"traces\",\"index\",\"curve_trace\",\"buildCurveTrace\",\"scatter_trace\",\"buildScatterTrace\",\"opacity\",\"visible\",\"resizer\",\"hovermode\",\"legend\",\"traceorder\",\"margin\",\"l\",\"b\",\"xaxis\",\"xLabel\",\"yaxis\",\"yLabel\",\"rangemode\",\"plotId\",\"buildPlot\",\"setElement\",\"plotElement\",\"registerOnResize\",\"ref\",\"defaultPoints\",\"getCurveY\",\"ec50\",\"slope\",\"upperA\",\"lowerA\",\"Math\",\"pow\",\"groupBy\",\"array\",\"prop\",\"grouped\",\"Map\",\"points\",\"set\",\"get\",\"DoseResponseCurve_DoseResponseCurve\",\"setAsArray\",\"measurements\",\"allKeys\",\"minX\",\"maxX\",\"curves\",\"curve\",\"add\",\"buildPointsTracesWithIds\",\"buildPointsTraces\",\"sort\",\"a\",\"xs\",\"ys\",\"rangeOfExponents\",\"log10\",\"minExponent\",\"upperAsymptote\",\"lowerAsymptote\",\"reverse\",\"groupedPointsById\",\"v\",\"k\",\"groupedPointsByReplicate\",\"newMinX\",\"newMaxX\",\"min\",\"max\",\"keys\",\"subgroup\",\"isMaskedValues\",\"item\",\"isMasked\",\"groupedPointsByIsMasked\",\"isMaskedValue\",\"subsubGroup\",\"dose\",\"viability\",\"allXs\",\"minSubgroupX\",\"maxSubgroupX\",\"curveParamDisplay\",\"key\",\"toFixed\",\"plotProps\",\"yUnits\",\"buildTraces\",\"display\",\"verticalAlign\",\"paddingTop\",\"addIdToDoseResponseCurvePromise\",\"curvePlotPoints\",\"curve_params\",\"defaultProps\",\"DoseResponseTab_DoseResponseTab\",\"onDatasetChange\",\"newDataset\",\"dapi\",\"getDoseResponseTable\",\"dose_replicate_dataset\",\"compound_xref_full\",\"then\",\"depmapIds\",\"depmapIdSet\",\"selectedRows\",\"state\",\"depmapId\",\"setState\",\"dataset\",\"doseResponseTable\",\"Promise\",\"all\",\"getDoseResponsePoints\",\"values\",\"cell_line_display_name\",\"onRowClick\",\"rowKey\",\"rowData\",\"shiftKey\",\"newSelectedRows\",\"concat\",\"cellLineUrlRoot\",\"getUrlRoot\",\"dropdownEventKeyToLabel\",\"datasetOptions\",\"datasetOption\",\"getDatasetDisplayName\",\"sameDataset\",\"cellData\",\"href\",\"target\",\"columns\",\"col\",\"formatedDisplayName\",\"parseFloat\",\"replace\",\"toPrecision\",\"displayName\",\"table\",\"unshift\",\"cellRenderer\",\"inputs\",\"cellLineCellRenderer\",\"reduce\",\"prev\",\"cur\",\"dose_replicate_level_yunits\",\"dataFromProps\",\"frozenCols\",\"hiddenCols\",\"idCol\",\"defaultSort\",\"order\",\"isSelectedRow\",\"ZqkZ\",\"uncontrolledPropTypes\",\"controlledValues\",\"propTypes\",\"defaultKey\",\"noop\",\"isProp\",\"isReactComponent\",\"component\",\"charAt\",\"toUpperCase\",\"substr\",\"a9cZ\",\"StackedBar\",\"renderBars\",\"bars\",\"sortedBars\",\"count\",\"total\",\"bar\",\"tooltip\",\"backgroundColor\",\"flexGrow\",\"onClick\",\"onBarClick\",\"bLWD\",\"uncontrollable\",\"Component\",\"methods\",\"isCompositeComponent\",\"Utils\",\"controlledProps\",\"PROPS_TO_OMIT\",\"invariant\",\"UncontrolledComponent\",\"_React$Component\",\"subClass\",\"superClass\",\"_this\",\"handlers\",\"create\",\"propName\",\"handlerName\",\"_this$props\",\"_notifying\",\"_values\",\"unmounted\",\"forceUpdate\",\"attachRef\",\"inner\",\"constructor\",\"__proto__\",\"_proto\",\"shouldComponentUpdate\",\"componentWillMount\",\"_this2\",\"componentWillReceiveProps\",\"nextProps\",\"_this3\",\"componentWillUnmount\",\"getControlledInstance\",\"render\",\"_this4\",\"_extends\",\"newProps\",\"propValue\",\"_react\",\"createElement\",\"method\",\"_inner\",\"ControlledComponent\",\"deferControlTo\",\"newComponent\",\"additions\",\"nextMethods\",\"_interopRequireDefault\",\"newObj\",\"desc\",\"getOwnPropertyDescriptor\",\"_interopRequireWildcard\",\"source\",\"dV+I\",\"HistosliderContainer\",\"react__WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"lodash_memoize__WEBPACK_IMPORTED_MODULE_1__\",\"lodash_memoize__WEBPACK_IMPORTED_MODULE_1___default\",\"histoslider__WEBPACK_IMPORTED_MODULE_2__\",\"histoslider__WEBPACK_IMPORTED_MODULE_2___default\",\"numArrayToBins\",\"nums\",\"numBins\",\"range\",\"binSize\",\"binsArray\",\"x0\",\"sortedArray\",\"floor\",\"minMax\",\"selection\",\"defaultSelection\",\"swapped\",\"lastRaf\",\"cancelAnimationFrame\",\"requestAnimationFrame\",\"rangeHandler\",\"ceil\",\"log2\",\"rawNums\",\"minFromData\",\"maxFromData\",\"precision\",\"step\",\"round\",\"abs\",\"keyboardStep\",\"bins\",\"onChange\",\"sel\",\"setSelection\",\"selectedColor\",\"justifyContent\",\"Number\",\"eOCm\",\"Histogram\",\"binValues\",\"binCounts\",\"binIndex\",\"renderBins\",\"maxCount\",\"rangeMin\",\"rangeMax\",\"dataWithoutNulls\",\"slice\",\"binned\",\"flexDirection\",\"alignItems\",\"fontSize\",\"smZf\",\"yo+c\",\"react_base_table__WEBPACK_IMPORTED_MODULE_1__\",\"immutability_helper__WEBPACK_IMPORTED_MODULE_3__\",\"immutability_helper__WEBPACK_IMPORTED_MODULE_3___default\",\"react_bootstrap__WEBPACK_IMPORTED_MODULE_4__\",\"react_bootstrap__WEBPACK_IMPORTED_MODULE_5__\",\"react_bootstrap__WEBPACK_IMPORTED_MODULE_6__\",\"react_bootstrap__WEBPACK_IMPORTED_MODULE_7__\",\"react_csv__WEBPACK_IMPORTED_MODULE_8__\",\"shared_common_models_longTable__WEBPACK_IMPORTED_MODULE_9__\",\"shared_common_components_StackedBar__WEBPACK_IMPORTED_MODULE_10__\",\"shared_common_components_Histogram__WEBPACK_IMPORTED_MODULE_11__\",\"shared_common_components_HistoSlider__WEBPACK_IMPORTED_MODULE_12__\",\"lodash_isequal__WEBPACK_IMPORTED_MODULE_13__\",\"lodash_isequal__WEBPACK_IMPORTED_MODULE_13___default\",\"selectTable\",\"textCanvas\",\"textInputs\",\"colorMap\",\"getundeleteableCols\",\"undeleteableCols\",\"getFrozenCols\",\"getInfoForStackedBar\",\"columnKey\",\"valuesAndCounts\",\"counts\",\"labels\",\"barProps\",\"getColor\",\"category\",\"colFromProps\",\"colorMapForColumn\",\"entries\",\"processData\",\"rawData\",\"checkboxMap\",\"addCheckboxes\",\"appendedFields\",\"getColType\",\"colKey\",\"getColumn\",\"getFrozenRows\",\"processedAndSortedAndFilteredData\",\"frozenRowFromData\",\"columnKeys\",\"columnData\",\"columnType\",\"filteredClass\",\"filters\",\"clickedBar\",\"columnToFilter\",\"defaultCategoricalSelection\",\"defaultValue\",\"getFilterParam\",\"onFilterChange\",\"getColumns\",\"tableWidth\",\"merged\",\"pos\",\"columnsFromData\",\"getHiddenCols\",\"frozen\",\"columnTitle\",\"getColumnWidth\",\"FrozenDirection\",\"LEFT\",\"checkboxRenderer\",\"categoricalCellRenderer\",\"absFilteredColData\",\"absMin\",\"absMax\",\"cell\",\"continuousCellRenderer\",\"dataKey\",\"maxWidth\",\"resizable\",\"sortable\",\"sumOfWidths\",\"renderTableHeaderCell\",\"extraButtonElements\",\"onColumnDelete\",\"stopPropagation\",\"removeFilter\",\"addHeaderArrows\",\"floatClass\",\"proccessedAndSortedAndFilteredData\",\"sortDatabyColumn\",\"filterData\",\"sortBy\",\"cursor\",\"checked\",\"areAllChecked\",\"checkUncheckAll\",\"onCheckboxClick\",\"valuesSansDuplicates\",\"areAllCurrentlyChecked\",\"visibleCellLineIds\",\"rowKeysOfCheckBoxesThatNeedUpdate\",\"0\",\"1\",\"boolVal\",\"checkboxUpdatedStates\",\"newCheckboxMap\",\"$add\",\"onCheckboxMapUpdate\",\"updatedCheckboxMap\",\"pair\",\"newSelectionStatus\",\"customSortOrder\",\"valuesToUpdate\",\"lastSelectedRow\",\"indexCurrentClick\",\"findIndex\",\"indexPreviousClick\",\"selectedRowIds\",\"borderLeftColor\",\"numFormatFunction\",\"num\",\"numberFormatFunction\",\"proportion\",\"ASC\",\"indexA\",\"indexB\",\"filterParam\",\"newFilterMap\",\"$remove\",\"dataToFilter\",\"filterMap\",\"filteredData\",\"objKeys\",\"nullRow\",\"onColumnSort\",\"rowClassNameHighlightSelected\",\"shouldHighlight\",\"closeFilterModal\",\"renderCategoricalFilterModal\",\"defaultSelected\",\"columnUnfiltered\",\"allCategoriesInColumn\",\"defaultChecked\",\"categories\",\"occurrences\",\"show\",\"onHide\",\"Header\",\"closeButton\",\"Title\",\"Body\",\"CheckboxFilterComponent\",\"columnName\",\"onFiltersSave\",\"renderContinuousFilterModal\",\"colData\",\"colDataWithoutNulls\",\"storedFilter\",\"isExcludingNAs\",\"Footer\",\"marginRight\",\"disabled\",\"getCheckedShownAndHidden\",\"allCheckedEntryIds\",\"entry\",\"visibleCheckedEntries\",\"hiddenCheckedEntryIds\",\"hidden\",\"renderDownloadButton\",\"filename\",\"downloadCsvName\",\"dataToDownload\",\"downloadAllColumns\",\"copy\",\"paddingRight\",\"getSortByFromPropsDefaultSort\",\"makeCheckboxMap\",\"prevProps\",\"scrollToLeft\",\"DESC\",\"str\",\"canvas\",\"getContext\",\"font\",\"measureText\",\"headerText\",\"subsettedData\",\"headerWidth\",\"get_text_width\",\"numEntriesToUse\",\"cellWidths\",\"quartile\",\"upArrowClass\",\"downArrowClass\",\"rowIndex\",\"how\",\"scrollToRow\",\"frozenRowsFromData\",\"TableHeaderCell\",\"numTotalSelected\",\"numShownSelected\",\"messageSelectedShown\",\"messageCheckboxes\",\"filterToShow\",\"checkedShownAndHidden\",\"numCheckedShown\",\"numChecked\",\"colType\",\"downloadButton\",\"disableDownload\",\"components\",\"additionalComponents\",\"longTableClass\",\"position\",\"zIndex\",\"fixed\",\"rowClassName\",\"frozenData\",\"rowHeight\",\"rowEventHandlers\",\"overrideOrAdditionalBaseTableProps\",\"padding\",\"textInputKeys\",\"processedAndSortedData\",\"renderCheckboxes\",\"checkboxes\",\"current\",\"htmlFor\",\"borderLeft\",\"paddingLeft\",\"marginLeft\",\"areNoneChecked\",\"categoriesToShow\",\"categoryName\",\"marginBottom\",\"overflow\",\"flexWrap\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[8],{\"3zPy\":function(e,t){function s(e){if(e&&\"object\"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if(\"number\"==typeof e)return a[e];var s,n=String(e);return(s=o[n.toLowerCase()])?s:(s=r[n.toLowerCase()])||(1===n.length?n.charCodeAt(0):void 0)}s.isEventKey=function(e,t){if(e&&\"object\"==typeof e){var s=e.which||e.keyCode||e.charCode;if(null==s)return!1;if(\"string\"==typeof t){var n;if(n=o[t.toLowerCase()])return n===s;if(n=r[t.toLowerCase()])return n===s}else if(\"number\"==typeof t)return t===s;return!1}};var o=(t=e.exports=s).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,\"pause/break\":19,\"caps lock\":20,esc:27,space:32,\"page up\":33,\"page down\":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,\"left command\":91,\"right command\":93,\"numpad *\":106,\"numpad +\":107,\"numpad -\":109,\"numpad .\":110,\"numpad /\":111,\"num lock\":144,\"scroll lock\":145,\"my computer\":182,\"my calculator\":183,\";\":186,\"=\":187,\",\":188,\"-\":189,\".\":190,\"/\":191,\"`\":192,\"[\":219,\"\\\\\":220,\"]\":221,\"'\":222},r=t.aliases={windows:91,\"⇧\":16,\"⌥\":18,\"⌃\":17,\"⌘\":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};\n/*!\n * Programatically add the following\n */\nfor(n=97;n<123;n++)o[String.fromCharCode(n)]=n-32;for(var n=48;n<58;n++)o[n-48]=n;for(n=1;n<13;n++)o[\"f\"+n]=n+111;for(n=0;n<10;n++)o[\"numpad \"+n]=n+96;var a=t.names=t.title={};for(n in o)a[o[n]]=n;for(var l in r)o[l]=r[l]},\"5lIu\":function(e,t,s){\"use strict\";s.d(t,\"b\",(function(){return r})),s.d(t,\"a\",(function(){return n})),s.d(t,\"c\",(function(){return a})),s.d(t,\"d\",(function(){return l})),s.d(t,\"e\",(function(){return i}));class o{filterData(e,t){return e}getFilterParam(){return null}}class r extends o{constructor(e){super(),this.filterString=e}filterData(e,t){return e.filter(e=>e[t].toString().toLowerCase().includes(this.filterString.toLocaleLowerCase()))}getFilterParam(){return this.filterString}}class n extends o{constructor(e){super(),this.filterCategories=e}filterData(e,t){return e.filter(e=>e&&this.filterCategories.has(String(e[t])))}getFilterParam(){return this.filterCategories}}class a extends o{constructor(e,t,s=!1){super(),this.minVal=e,this.maxVal=t,this.excludeNAs=s}filterData(e,t){return e.filter(e=>null!=e&&(1==this.excludeNAs&&null!=e[t]||0==this.excludeNAs)&&e[t]>=this.minVal&&e[t]<=this.maxVal)}getFilterParam(){return[this.minVal,this.maxVal]}isExcludingNAs(){return this.excludeNAs}}const l=[\"#E69F00\",\"#56B4E9\",\"#009E73\",\"#F0E442\",\"#0072B2\",\"#D55E00\",\"#CC79A7\"],i=e=>{const t=e.filter(e=>null!=e&&\"\"!=e),s=Array.from(new Set(t)).length;return\"string\"==typeof t[0]&&s<.95*t.length?\"categorical\":\"number\"==typeof t[0]?\"continuous\":\"character\"}},\"5o91\":function(e,t,s){\"use strict\";var o=s(\"q1tI\"),r=s(\"ulad\"),n=s(\"RFJL\"),a=s(\"TRQU\"),l=(s(\"Exbw\"),function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(s[o[r]]=e[o[r]])}return s});t.a=e=>{var{bsStyle:t,selectedEventKey:s,children:i,onSelect:c,description:h,helperText:p}=e,d=l(e,[\"bsStyle\",\"selectedEventKey\",\"children\",\"onSelect\",\"description\",\"helperText\"]);const u=o.Children.toArray(i);return o.createElement(a.a,Object.assign({onSelect:c},d),(()=>{var e;return o.createElement(a.a.Toggle,{bsStyle:t,className:h?\"description-dropdown-button\":\"\"},h&&o.createElement(\"div\",{className:\"description-dropdown-button-label\"},o.createElement(\"b\",null,h),p?(()=>{const e=o.createElement(r.a,{id:\"popover-btn-helper-text-\"+d.id},p);return o.createElement(n.a,{trigger:[\"hover\",\"focus\"],delayHide:500,placement:\"bottom\",overlay:e},o.createElement(\"span\",{className:\"glyphicon glyphicon-question-sign\",style:{marginInlineStart:8}}))})():null),o.createElement(\"span\",{className:\"dropdown-button-label\"},null===(e=u.find(e=>e.props.eventKey==s))||void 0===e?void 0:e.props.children))})(),o.createElement(a.a.Menu,null,u.map(e=>o.cloneElement(e,{active:e.props.eventKey==s}))))}},Exbw:function(e,t,s){var o=s(\"smZf\");\"string\"==typeof o&&(o=[[e.i,o,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s(\"aET+\")(o,r);o.locals&&(e.exports=o.locals)},K9S6:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];function o(){for(var e=arguments.length,s=Array(e),o=0;o<e;o++)s[o]=arguments[o];var r=null;return t.forEach((function(e){if(null==r){var t=e.apply(void 0,s);null!=t&&(r=t)}})),r}return(0,n.default)(o)};var o,r=s(\"pvIh\"),n=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},L7kN:function(e,t,s){\"use strict\";s.r(t);var o=s(\"wSuE\"),r=s(\"q1tI\"),n=s(\"tfIh\"),a=s(\"yo+c\"),l=s(\"5o91\"),i=s(\"F0MJ\"),c=s(\"40R2\");class h{constructor(e){this.resizeTimer=null,this.element=null}setElement(e){this.element=e}getSize(){if(!this.element)return null;const e=this.element.parentElement.getBoundingClientRect();return{width:e.width-20,height:e.height-20}}resize(){const e=this.getSize();if(null==e)return;const t=this.element;e.width==t.layout.width&&e.height==t.layout.height||c.relayout(this.element,e)}enqueueResize(e){this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>this.resize(),e)}registerOnResize(){$(window).resize(()=>this.enqueueResize(250))}}const p=[\"#1f77b4\",\"#ff7f0e\",\"#2ca02c\",\"#d62728\",\"#9467bd\",\"#8c564b\",\"#e377c2\",\"#7f7f7f\",\"#bcbd22\",\"#17becf\"];class d extends r.Component{constructor(e){super(e)}buildTraceCommonalities(e){const t={x:e.x,y:e.y,text:e.label,marker:{size:7,line:{smoothing:1.3}},type:\"scatter\"};return t.name=e.name,t}buildScatterTrace(e,t){const s=this.buildTraceCommonalities(e);return s.marker.symbol=\"true\"==e.label[0]?\"circle-open\":\"circle\",s.customdata=e.replicate,s.mode=\"markers\",s.hoverinfo=\"x+y\",s.marker.color=p[t],s}buildCurveTrace(e,t){const s=this.buildTraceCommonalities(e);return s.mode=\"lines\",s.hoverinfo=\"x+y\",s.marker.color=p[t],s}buildPlot(){const e=[];this.props.traces.forEach((t,s)=>{if(\"curve\"==t.type){const o=this.buildCurveTrace(t,s);e.push(o)}else{const o=this.buildScatterTrace(t,s);e.push(o)}}),(e.length>2||2==e.length)&&e.push({x:[0],y:[0],opacity:\"0\",color:\"#FFFFFF\",name:\"click these legends\",visible:\"legendonly\"});let t=this.props.resizer.getSize();t||(t={width:100,height:100});const s={width:t.width,height:t.height,hovermode:\"closest\",legend:{traceorder:\"reversed\"},margin:{l:50,r:50,b:50,t:10},xaxis:{title:this.props.xLabel,type:\"log\"},yaxis:{title:this.props.yLabel,rangemode:\"tozero\"}};c.newPlot(this.props.plotId,e,s)}componentDidMount(){this.buildPlot(),this.props.resizer.setElement(this.plotElement),this.props.resizer.registerOnResize(),this.props.resizer.resize(),this.props.resizer.enqueueResize(500)}componentDidUpdate(){this.buildPlot()}render(){return r.createElement(\"div\",{ref:e=>this.plotElement=e,id:this.props.plotId})}}const u=new Set([]);function m(e,t,s,o,r){return r+(o-r)/(1+Math.pow(e/t,-s))}function f(e,t){const s=new Map;return e.forEach(e=>{const o=e[t].toString();s.has(o)||s.set(o,[]),s.get(o).push(e)}),s}class g extends r.PureComponent{constructor(e){super(e),this.resizer=new h(this.props.plotId)}buildTraces(){const e=Array.from(this.props.measurements),t=[],s=new Set(e.filter(e=>!!e.id).map(e=>e.id));let o,r;return this.props.curves.filter(e=>!!e.id).forEach(e=>s.add(e.id)),e.length>0&&s.size>1?[o,r]=this.buildPointsTracesWithIds(e,t):[o,r]=this.buildPointsTraces(f(e,\"replicate\"),t),t.sort((e,t)=>e.name>t.name?1:e.name<t.name?-1:0),this.props.curves.forEach((e,n)=>{const a=[],l=[],i=Math.log10(r)-Math.log10(o),c=Math.log10(o);for(let t=0;t<3e3;t++){const s=Math.pow(10,c+t/3e3*i);a.push(s),l.push(m(s,e.ec50,e.slope,e.upperAsymptote,e.lowerAsymptote))}t.push({x:a,y:l,name:this.props.curves.length>1?s.size>1?`${e.id} Curve (${n+1})`:\"Curve \"+(n+1):\"Curve\",type:\"curve\"})}),t.reverse(),t}buildPointsTracesWithIds(e,t){const s=f(e,\"id\");let o=null,r=null;return s.forEach((e,s)=>{const n=f(e,\"replicate\"),[a,l]=this.buildPointsTraces(n,t,s);o=null==o?a:Math.min(a,o),r=null==r?l:Math.max(l,r)}),[o,r]}buildPointsTraces(e,t,s){let o=null,r=null;return Array.from(e.keys()).forEach(n=>{const a=e.get(n.toString()),l=[...new Set(a.map(e=>e.isMasked))],i=f(a,\"isMasked\");l.forEach(e=>{const o=i.get(e.toString()),r=o.map(e=>e.dose),a=o.map(e=>e.viability);let l=s?`${s} Replicate ${n}`:\"Replicate \"+n;e&&(l+=\" (masked)\"),t.push({x:r,y:a,customdata:[\"no\"],label:[\"\"+e],replicate:[\"\"+n],name:l})});const c=a.map(e=>e.dose),h=Math.min(...c),p=Math.max(...c);o=null===o?h:o<h?o:h,r=null===r?p:r>p?r:p}),[o,r]}render(){const e=new Set(this.props.curves.filter(e=>!!e.id).map(e=>e.id)),t=this.props.curves.map((t,s)=>r.createElement(\"div\",{key:s},this.props.curves.length>1&&r.createElement(\"h4\",null,e.size>1?`${t.id} Curve (${s+1})`:\"Curve \"+(s+1)),\"ec50: \",t.ec50.toFixed(4),r.createElement(\"br\",null),\"slope: \",t.slope.toFixed(4),\" \",r.createElement(\"br\",null),\"lower_asym: \",t.lowerAsymptote.toFixed(4),r.createElement(\"br\",null),\"upper_asym: \",t.upperAsymptote.toFixed(4),r.createElement(\"br\",null))),s={plotId:this.props.plotId,xLabel:\"Concentration (μMol)\",yLabel:this.props.yUnits,traces:this.buildTraces(),resizer:this.resizer};return r.createElement(\"div\",null,r.createElement(\"div\",{style:{width:\"20%\",display:\"inline-block\",verticalAlign:\"top\"}},r.createElement(\"h4\",null,\"Curve Fitting Parameters\"),t,this.props.curves.length>1&&r.createElement(\"p\",{style:{paddingTop:\"5px\"}},\"Curve numbers do not correspond to replicate numbers. The AUC value is obtained by taking the mean AUC of all curves.\")),r.createElement(\"div\",{style:{height:400,width:\"80%\",display:\"inline-block\",verticalAlign:\"top\"}},r.createElement(d,Object.assign({},s))),r.createElement(\"br\",null))}}function y(e,t){return{curve_params:e.curve_params.map(e=>Object.assign(Object.assign({},e),{id:t})),points:e.points.map(e=>Object.assign(Object.assign({},e),{id:t}))}}g.defaultProps={measurements:u,curves:[{ec50:0,slope:0,lowerAsymptote:0,upperAsymptote:0}],yUnits:\"DEFAULT NOT FOUND\"};class b extends r.Component{constructor(e){super(e),this.onDatasetChange=e=>{this.dapi.getDoseResponseTable(e.dose_replicate_dataset,e.compound_xref_full).then(t=>{const s=Object.keys(t);s.sort();const o=new Set(s),r=this.state.selectedRows.filter(e=>o.has(e));this.setState({dataset:e,selectedRows:r,doseResponseTable:s.map(e=>Object.assign(Object.assign({},t[e]),{depmapId:e}))})}).then(t=>{Promise.all([...this.state.selectedRows.map(t=>this.dapi.getDoseResponsePoints(e.dose_replicate_dataset,t,e.compound_xref_full))]).then(e=>{this.setState({curvePlotPoints:new Map(e.map((e,t)=>[this.state.selectedRows[t],y(e,this.state.doseResponseTable.find(e=>e.depmapId==this.state.selectedRows[t]).cell_line_display_name)]))})})})},this.onRowClick=(e,t,s)=>{if(e.shiftKey)if(this.state.selectedRows.includes(t)){const e=this.state.selectedRows.filter(e=>e!=t);this.setState({selectedRows:e})}else this.dapi.getDoseResponsePoints(this.state.dataset.dose_replicate_dataset,t,this.state.dataset.compound_xref_full).then(e=>this.setState({curvePlotPoints:this.state.curvePlotPoints.set(t,y(e,s.cell_line_display_name)),selectedRows:this.state.selectedRows.concat([t])}));else this.dapi.getDoseResponsePoints(this.state.dataset.dose_replicate_dataset,t,this.state.dataset.compound_xref_full).then(e=>this.setState({curvePlotPoints:new Map([[t,y(e,s.cell_line_display_name)]]),selectedRows:[t]}))},this.dapi=Object(i.b)(),this.cellLineUrlRoot=this.dapi.getUrlRoot(\"cell_line.view_cell_line\"),this.dropdownEventKeyToLabel=new Map(e.datasetOptions.map(e=>[e,this.getDatasetDisplayName(e)])),this.state={dataset:e.datasetOptions[0],doseResponseTable:null,selectedRows:[],curvePlotPoints:new Map},this.dapi.getDoseResponseTable(this.state.dataset.dose_replicate_dataset,this.state.dataset.compound_xref_full).then(e=>{const t=Object.keys(e);t.sort(),this.setState({doseResponseTable:t.map(t=>Object.assign(Object.assign({},e[t]),{depmapId:t}))})})}getDatasetDisplayName(e){const t=this.props.datasetOptions.filter(t=>t.dose_replicate_dataset==e.dose_replicate_dataset);return\"CTRP_dose_replicate\"==e.dose_replicate_dataset?r.createElement(\"span\",null,\"CTD\",r.createElement(\"sup\",null,\"2\"),t.length>1?` (${e.compound_xref_full})`:\"\"):\"Repurposing_secondary_dose_replicate\"==e.dose_replicate_dataset?\"PRISM Repurposing Secondary Screen \"+(t.length>1?` (${e.compound_xref_full})`:\"\"):\"GDSC1_dose_replicate\"==e.dose_replicate_dataset?\"Sanger GDSC1 \"+(t.length>1?` (${e.compound_xref_full})`:\"\"):\"GDSC2_dose_replicate\"==e.dose_replicate_dataset?\"Sanger GDSC2 \"+(t.length>1?` (${e.compound_xref_full})`:\"\"):e.dose_replicate_dataset}cellLineCellRenderer({rowData:e,cellData:t}){return\"frozenRow\"==e.id?t:r.createElement(\"a\",{href:`${this.cellLineUrlRoot}${e.depmapId}`,target:\"_blank\"},e.cell_line_display_name)}render(){const e=this.state.doseResponseTable?Object.keys(this.state.doseResponseTable[0]).filter(e=>![\"depmapId\",\"cell_line_display_name\"].includes(e)).map(e=>{const t=parseFloat(e.replace(\"-\",\".\")).toPrecision(2)+\" μM\";return{key:e,type:\"continuous\",displayName:t}}):[];e.sort((e,t)=>parseFloat(e.key)-parseFloat(t.key));const t=this.state.doseResponseTable;return t&&\"ic50\"in t[0]&&e.unshift({key:\"ic50\",type:\"continuous\",displayName:\"IC50\"}),e.unshift({key:\"auc\",type:\"continuous\",displayName:\"AUC\"}),e.push({key:\"cell_line_display_name\",type:\"character\",displayName:\"Cell line\",width:150,cellRenderer:e=>this.cellLineCellRenderer(e)}),r.createElement(\"div\",null,r.createElement(l.a,{id:\"compound-dose-response-curve-tab-dropdown\",selectedEventKey:this.state.dataset,onSelect:this.onDatasetChange},this.props.datasetOptions.map((e,t)=>r.createElement(n.a,{key:t,eventKey:e},this.getDatasetDisplayName(e)))),r.createElement(g,{plotId:\"compound-dose-curve-tab-plot\",measurements:this.state.selectedRows&&new Set(this.state.selectedRows.map(e=>this.state.curvePlotPoints.get(e).points).reduce((e,t)=>e.concat(t),[])),curves:this.state.selectedRows&&this.state.selectedRows.map(e=>this.state.curvePlotPoints.get(e).curve_params).reduce((e,t)=>e.concat(t),[]),yUnits:this.state.dataset.dose_replicate_level_yunits}),this.state.doseResponseTable&&r.createElement(\"div\",{style:{height:400}},r.createElement(a.a,{dataFromProps:this.state.doseResponseTable,frozenCols:[\"cell_line_display_name\"],hiddenCols:[\"depmapId\"],columns:e,idCol:\"depmapId\",defaultSort:{col:\"auc\",order:\"ASC\"},onRowClick:({event:e,rowKey:t,rowData:s})=>this.onRowClick(e,t,s),isSelectedRow:e=>this.state.selectedRows.includes(e.rowData.id)})))}}t.default=Object(o.hot)(b)},ZqkZ:function(e,t,s){\"use strict\";t.__esModule=!0,t.uncontrolledPropTypes=function(e,t){var s={};return Object.keys(e).forEach((function(e){s[n(e)]=r})),s},t.isProp=function(e,t){return void 0!==e[t]},t.defaultKey=n,t.isReactComponent=function(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)};var o;(o=s(\"QLaP\"))&&o.__esModule;var r=function(){};function n(e){return\"default\"+e.charAt(0).toUpperCase()+e.substr(1)}},a9cZ:function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return a}));var o=s(\"q1tI\"),r=s(\"47Jv\"),n=s(\"RFJL\");class a extends o.Component{constructor(e){super(e),this.renderBars=()=>{const e=[],t=this.props.bars.sort((e,t)=>e.count>t.count?-1:1),s=t.map(e=>e.count).reduce((e,t)=>e+t,0);for(let a=0;a<t.length;a++){const l=\"\"==t[a].label||null==t[a].label?\"null\":t[a].label,i=o.createElement(r.a,{id:\"tooltip\"+a.toString(),style:{backgroundColor:t[a].color}},l,o.createElement(\"br\",null),t[a].count,\" out of \",s);e.push(o.createElement(n.a,{placement:\"top\",overlay:i,key:a+\"-bar\"},o.createElement(\"div\",{key:a,style:{display:\"flex\",flexGrow:t[a].count,backgroundColor:t[a].color},onClick:()=>{this.props.onBarClick&&this.props.onBarClick(t[a].label)}},\" \")))}return e}}render(){return o.createElement(\"div\",{style:{display:\"flex\",width:\"100%\",height:\"100%\"}},this.renderBars())}}},bLWD:function(e,t,s){\"use strict\";t.__esModule=!0,t.default=function e(t,s,n){void 0===n&&(n=[]);var l=t.displayName||t.name||\"Component\",i=r.isReactComponent(t),c=Object.keys(s),h=c.map(r.defaultKey);!i&&n.length&&invariant(!1);var p=function(e){var n,l;function p(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).handlers=Object.create(null),c.forEach((function(e){var o=s[e];t.handlers[o]=function(s){if(t.props[o]){var r;t._notifying=!0;for(var n=arguments.length,a=new Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];(r=t.props)[o].apply(r,[s].concat(a)),t._notifying=!1}t._values[e]=s,t.unmounted||t.forceUpdate()}})),i&&(t.attachRef=function(e){t.inner=e}),t}l=e,(n=p).prototype=Object.create(l.prototype),n.prototype.constructor=n,n.__proto__=l;var d=p.prototype;return d.shouldComponentUpdate=function(){return!this._notifying},d.componentWillMount=function(){var e=this,t=this.props;this._values=Object.create(null),c.forEach((function(s){e._values[s]=t[r.defaultKey(s)]}))},d.componentWillReceiveProps=function(e){var t=this,s=this.props;c.forEach((function(o){!r.isProp(e,o)&&r.isProp(s,o)&&(t._values[o]=e[r.defaultKey(o)])}))},d.componentWillUnmount=function(){this.unmounted=!0},d.getControlledInstance=function(){return this.inner},d.render=function(){var e=this,s=a({},this.props);h.forEach((function(e){delete s[e]}));var r={};return c.forEach((function(t){var s=e.props[t];r[t]=void 0!==s?s:e._values[t]})),o.default.createElement(t,a({},s,r,this.handlers,{ref:this.attachRef}))},p}(o.default.Component);return p.displayName=\"Uncontrolled(\"+l+\")\",p.propTypes=r.uncontrolledPropTypes(s,l),n.forEach((function(e){p.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}})),p.ControlledComponent=t,p.deferControlTo=function(t,o,r){return void 0===o&&(o={}),e(t,a({},s,o),r)},p};var o=n(s(\"q1tI\")),r=(n(s(\"QLaP\")),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,s):{};o.get||o.set?Object.defineProperty(t,s,o):t[s]=e[s]}return t.default=e,t}(s(\"ZqkZ\")));function n(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e}).apply(this,arguments)}e.exports=t.default},\"dV+I\":function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return p}));var o=s(\"q1tI\"),r=s.n(o),n=s(\"uyHG\"),a=s.n(n),l=s(\"1IPH\"),i=s.n(l);const c=a()(({nums:e,numBins:t})=>{const s=e.reduce((e,t)=>Math.min(e,t)),o=e.reduce((e,t)=>Math.max(e,t))-s;let r=o/t;0===o&&(r=1);const n=[];for(let e=0;e<t;e++)n.push({x0:s+e*r,x:s+(e+1)*r,y:0});const a=[...e].sort();for(let t=0;t<e.length;t++){let e=Math.floor((a[t]-s)/r);e===n.length&&(e=n.length-1),n[e].y=n[e].y+1}return n}),h=a()(e=>{const t=e.filter(e=>\"number\"==typeof e);return{min:Math.min(...t),max:Math.max(...t)}});class p extends r.a.Component{constructor(){super(...arguments),this.state={selection:this.props.defaultSelection||this.props.selection,swapped:!1},this.lastRaf=0}setSelection(e){window.cancelAnimationFrame(this.lastRaf),this.lastRaf=window.requestAnimationFrame(()=>{this.setState({selection:e,swapped:e[0]>e[1]});const t=Math.min(e[0],e[1]),s=Math.max(e[0],e[1]);this.props.rangeHandler(t,s)})}render(){const e=this.props.numBins?this.props.numBins:Math.ceil(Math.log2(this.props.rawNums.length)+1),t=Math.min(...this.props.selection||this.state.selection),s=Math.max(...this.props.selection||this.state.selection),{min:o,max:n}=h(this.props.rawNums),a=1===this.props.step?0:3,l=e=>Math.abs(e-o)<1e-9?o:Math.abs(e-n)<1e-9?n:Math.round(e*Math.pow(10,a))/Math.pow(10,a),p=this.props.step||.01,d=c({nums:this.props.rawNums.filter(e=>\"number\"==typeof e),numBins:e});return r.a.createElement(\"div\",{style:{height:this.props.height}},r.a.createElement(i.a,{data:d,onChange:e=>{null!==e&&(e=[l(e[0]),l(e[1])],this.setSelection(e))},width:this.props.width,height:this.props.height-20,selectedColor:this.props.selectedColor,selection:this.state.swapped?[s,t]:[t,s],keyboardStep:p}),r.a.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:this.props.width}},r.a.createElement(\"input\",{id:\"minEntry\",type:\"number\",style:{height:\"2em\",width:\"75px\"},value:t,min:Math.round(1e3*o)/1e3,max:Math.round(1e3*n)/1e3,step:p,onChange:e=>this.setSelection([l(Number(e.target.value)),s])}),r.a.createElement(\"input\",{id:\"maxEntry\",type:\"number\",style:{height:\"2em\",width:\"75px\"},value:s,min:Math.round(1e3*o)/1e3,max:Math.round(1e3*n)/1e3,step:p,onChange:e=>this.setSelection([t,l(Number(e.target.value))])})))}}p.defaultProps={selectedColor:\"#0174d9\"}},eOCm:function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return a}));var o=s(\"q1tI\"),r=s(\"47Jv\"),n=s(\"RFJL\");class a extends o.Component{constructor(e){super(e),this.binValues=(e,t)=>{const s=Math.min(...e),o=Math.max(...e);let r=o-s;0==r&&(r=1);const n=[];for(let e=0;e<t;e++)n.push(0);for(let o=0;o<e.length;o++){let a=Math.floor((e[o]-s)*t/r);a>=n.length&&(a=n.length-1),n[a]+=1}return{min:s,max:o,bins:n}},this.renderBins=(e,t,s)=>{const a=[],l=t-e,i=Math.max(...s),c=s.reduce((e,t)=>e+t,0);for(let t=0;t<s.length;t++){const h=90*s[t]/i,p=e+l/s.length*t,d=e+l/s.length*(t+1),u=o.createElement(r.a,{id:\"tooltip\"+t.toString(),style:{backgroundColor:\"#dedede\"}},p.toPrecision(2),\" to \",d.toPrecision(2),o.createElement(\"br\",null),s[t],\" out of \",c);a.push(o.createElement(n.a,{placement:\"top\",overlay:u,key:t+\"-bin\"},o.createElement(\"div\",{key:\"bar-\"+t.toString(),style:{height:h+\"%\",backgroundColor:\"#bababa\",display:\"flex\",flexGrow:1}},\" \")))}return a}}render(){const e=this.props.data.slice(0).filter(e=>null!=e),t=this.props.numBins?this.props.numBins:Math.ceil(Math.log2(e.length)+1),s=this.binValues(e,t);return o.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",height:\"100%\",width:\"100%\"}},o.createElement(\"div\",{style:{display:\"flex\",height:\"100%\",width:\"100%\",alignItems:\"flex-end\"}},this.renderBins(s.min,s.max,s.bins)),o.createElement(\"div\",{style:{fontSize:\"8px\",display:\"flex\",justifyContent:\"space-between\"}},o.createElement(\"span\",null,s.min.toPrecision(2)),o.createElement(\"span\",null,s.max.toPrecision(2))))}}},smZf:function(e,t,s){(e.exports=s(\"JPst\")(!1)).push([e.i,\".dropdown-toggle .dropdown-button-label{white-space:normal}.dropdown-toggle.description-dropdown-button{text-align:left;border-radius:0px}.dropdown-toggle.description-dropdown-button .dropdown-button-label{font-style:italic}.dropdown-toggle.description-dropdown-button .caret{width:10px;height:10px;margin-left:5px}.dropdown-toggle .description-dropdown-button-label{color:gray}\",\"\"])},\"yo+c\":function(e,t,s){\"use strict\";s.d(t,\"a\",(function(){return b}));var o=s(\"q1tI\"),r=s(\"LmH1\"),n=(s(\"+0SB\"),s(\"RsOY\")),a=s.n(n),l=s(\"frVR\"),i=s(\"ulad\"),c=s(\"RFJL\"),h=s(\"mLQA\"),p=s(\"HTVX\"),d=s(\"5lIu\"),u=s(\"a9cZ\"),m=s(\"eOCm\"),f=s(\"dV+I\"),g=s(\"XaGS\"),y=s.n(g);class b extends o.Component{constructor(e){super(e),this.selectTable=null,this.textCanvas=null,this.textInputs={},this.colorMap=new Map,this.getundeleteableCols=()=>{const e=new Set(this.props.undeleteableCols);return e.add(\"LongTable-checkbox\"),e},this.getFrozenCols=()=>{const e=new Set(this.props.frozenCols);return e.add(\"LongTable-checkbox\"),e},this.getInfoForStackedBar=(e,t)=>{const s={};for(let e=0;e<t.length;e++)s[t[e]]=1+(s[t[e]]||0);const o=Object.values(s),r=Object.keys(s),n=[];for(let t=0;t<r.length;t++)n.push({count:o[t],label:r[t],color:this.getColor(e,r[t])});return n},this.getColor=(e,t)=>{const s=this.props.columns.find(t=>t.key==e);if(\"unknown\"==t.toLowerCase())return\"#dedede\";if(\"\"==t||null==t||\"null\"==t)return\"#eeeeee\";if(s&&s.colorMap&&s.colorMap.has(t))return s.colorMap.get(t);if(this.colorMap.has(e)){const s=this.colorMap.get(e);if(s.has(t))return this.colorMap.get(e).get(t);const o=d.d[Array.from(s.entries()).length%d.d.length];return s.set(t,o),o}return this.colorMap.set(e,new Map([[t,d.d[0]]])),d.d[0]},this.processData=e=>{const{checkboxMap:t}=this.state,{addCheckboxes:s}=this.props,{idCol:o}=this.props;return e.map((e,r)=>{const n={};return n.id=o?e[o]:r,s&&(n[\"LongTable-checkbox\"]=t.get(e[o]).toString()),Object.assign(n,e)})},this.getColType=(e,t)=>{if(this.props.columns){const e=this.props.columns.find(e=>e.key==t);if(e&&e.type)return e.type}return Object(d.e)(this.getColumn(e,t))},this.getFrozenRows=e=>{const t=Object.assign({},e[0]),s=Object.keys(e[0]);for(let r=0;r<s.length;r++){const n=e.map(e=>e[s[r]]),a=this.getColType(this.props.dataFromProps,s[r]),l=this.state.filters.has(s[r])?\"filtered\":\"\";if(\"categorical\"==a)t[s[r]]=o.createElement(\"div\",{key:\"frozen-\"+s[r],className:\"baseTableHeaderVis stackedBarWrapper \"+l},o.createElement(u.a,{bars:this.getInfoForStackedBar(s[r],this.getColumn(e,s[r])),onBarClick:e=>{this.setState({columnToFilter:s[r],defaultCategoricalSelection:[e]})}}));else if(\"continuous\"==a)t[s[r]]=o.createElement(\"div\",{className:\"baseTableHeaderVis histogramWrapper \"+l,onClick:()=>{this.setState({columnToFilter:s[r]})}},o.createElement(m.a,{data:n.filter(e=>e)}));else{const e=this.state.filters.get(s[r]);t[s[r]]=o.createElement(\"input\",{ref:e=>this.textInputs[s[r]]=e,type:\"text\",defaultValue:e instanceof d.b?e.getFilterParam():\"\",className:\"textFilterWrapper\",onChange:e=>{this.onFilterChange(s[r],new d.b(e.target.value))}})}}return t.id=\"frozenRow\",[t]},this.getColumns=(e,t)=>{let s=Object.keys(e[0]);if(this.props.columns){const e=this.props.columns.map(e=>e.key).concat(s);this.props.addCheckboxes&&e.unshift(\"LongTable-checkbox\"),s=e.filter((t,s)=>e.indexOf(t)===s)}const o=[];for(let n=0;n<s.length;n++)if(!this.getHiddenCols().has(s[n])){const a=this.getColType(this.props.dataFromProps,s[n]);let l,i,c,h=s[n];if(this.props.columns&&(l=this.props.columns.find(e=>e.key==s[n]),l&&l.displayName&&(h=l.displayName)),this.props.columns){const e=this.props.columns.find(e=>e.key==s[n]);e&&e.width&&(i=e.width)}if(i||(i=this.getColumnWidth(s[n],h,e)),this.props.columns){const e=this.props.columns.find(e=>e.key==s[n]);e&&e.helperText&&(i+=20)}\"LongTable-checkbox\"==s[n]&&(i=45,h=null);let p=l&&l.cellRenderer;if(this.getFrozenCols().has(s[n])&&(c=r.b.FrozenDirection.LEFT),\"LongTable-checkbox\"==s[n])p=this.checkboxRenderer;else if(\"categorical\"==a)p=this.categoricalCellRenderer;else if(\"continuous\"==a){const t=this.getColumn(e,s[n]).filter(e=>null!=e).map(e=>Math.abs(e)),o=Math.min(...t),r=Math.max(...t);p=e=>this.continuousCellRenderer(e,o,r,s[n])}o.push({dataKey:s[n],key:s[n],maxWidth:t,resizable:!0,sortable:!0,title:h,width:i,frozen:c,cellRenderer:p})}const n=o.reduce((e,t)=>e+(t.width||0),0);return n<t&&o.forEach(e=>{\"LongTable-checkbox\"!=e.key&&(e.width=e.width/n*t)}),o},this.renderTableHeaderCell=({className:e,column:t})=>{const s=t.dataKey,r=[];if(this.props.onColumnDelete&&!this.getundeleteableCols().has(s)&&this.props.idCol!=s&&r.push(o.createElement(\"span\",{key:\"delete-\"+s,className:\"glyphicon glyphicon-remove columnRemoveIcon\",onClick:e=>{e.stopPropagation(),this.removeFilter(s),this.props.onColumnDelete(s)}})),\"LongTable-checkbox\"!=s){const e=this.state.filters.has(s)?\"columnFilterIconActive\":\"columnFilterIcon\";r.unshift(o.createElement(\"span\",{key:\"filter-\"+s,className:\"glyphicon glyphicon-filter \"+e,onClick:e=>{e.stopPropagation(),this.state.filters.has(s)?this.removeFilter(s):this.setState({columnToFilter:s})}}))}r.unshift(this.addHeaderArrows(s));const n=this.addHelperText(s),a=r.length>1?\"floatRight\":\"\";return o.createElement(\"div\",{className:\"longTableHeader\"},t.title,n,o.createElement(\"div\",{className:\"columnControlsContainer \"+a},r))},this.getColumn=(e,t)=>e.map(e=>e[t]),this.checkboxRenderer=e=>{const t=this.sortDatabyColumn(this.filterData(this.processData(this.props.dataFromProps),this.state.filters),this.state.sortBy);return null!=e.rowData.id?\"frozenRow\"==e.rowData.id?o.createElement(\"input\",{style:{cursor:\"pointer\"},type:\"checkbox\",checked:this.areAllChecked(t),onChange:()=>{},onClick:e=>{this.checkUncheckAll(t)}}):o.createElement(\"input\",{type:\"checkbox\",style:{cursor:\"pointer\"},checked:1==this.state.checkboxMap.get(e.rowData.id),onChange:()=>{},onClick:s=>{this.onCheckboxClick(s,e.rowData.id,t)}}):null},this.areAllChecked=e=>{const t=new Set;return e.forEach(e=>{t.add(this.state.checkboxMap.get(e[this.props.idCol]))}),1==t.size&&t.has(!0)},this.checkUncheckAll=e=>{const t=this.areAllChecked(e),s=new Set(e.map(e=>e[this.props.idCol])),o=[...this.state.checkboxMap.entries()].filter(({0:e})=>s.has(e)).filter(({1:e})=>e===t).map(([e])=>e),r=[];o.forEach(e=>{r.push([e,!t])});const n=a()(this.state.checkboxMap,{$add:r});this.onCheckboxMapUpdate(n),this.setState({checkboxMap:n})},this.onCheckboxMapUpdate=e=>{this.props.onCheckboxClick&&this.props.onCheckboxClick(new Set(Array.from(e.entries()).filter(e=>1==e[1]).map(e=>e[0])))},this.onCheckboxClick=(e,t,s)=>{const o=!this.state.checkboxMap.get(t);let r;if(\"LongTable-checkbox\"==this.state.sortBy.key){r={key:\"\",order:\"custom\"};const e=new Map;s.forEach((t,s)=>{e.set(t.id,s)}),this.setState({customSortOrder:e})}else r=this.state.sortBy;let n=[t];if(e.shiftKey&&null!==this.state.lastSelectedRow){const e=s.findIndex(e=>e.id==t),o=s.findIndex(e=>e.id==this.state.lastSelectedRow);if(e>-1&&o>-1){const t=s.slice(Math.min(o,e),Math.max(o,e)+1).map(e=>e.id);n=n.concat(t)}}const l=a()(this.state.checkboxMap,{$add:n.map(e=>[e,o])});this.onCheckboxMapUpdate(l),this.setState({checkboxMap:l,lastSelectedRow:t,sortBy:r})},this.categoricalCellRenderer=e=>{const{cellData:t}=e;if(\"string\"==typeof t||\"number\"==typeof t){if(\"\"==e.cellData||null==e.cellData)return null;const t=e.column.dataKey,s=this.getColor(t,e.cellData.toString());return o.createElement(\"div\",{className:\"categoricalCell\",style:{borderLeftColor:s}},e.cellData)}return void 0===t?\"\":t},this.continuousCellRenderer=(e,t,s,r)=>{let n=e=>e.toString().length>3?e.toPrecision(3):e;if(this.props.columns){const e=this.props.columns.find(e=>e.key==r);e&&e.numberFormatFunction&&(n=e.numberFormatFunction)}if(\"string\"==typeof e.cellData||\"number\"==typeof e.cellData){const r=+e.cellData,a=(Math.abs(r)-t)/(s-t),l=r>0?{width:100*a+\"%\",backgroundColor:\"#efcecb\",left:0}:{width:100*a+\"%\",backgroundColor:\"#dce5ff\",right:0};return o.createElement(\"div\",{className:\"continuousCellWrapper\"},o.createElement(\"div\",{className:\"continuousCellBar\",style:l},\" \"),o.createElement(\"div\",{className:\"continuousCellData\"},n(r)))}return void 0===e.cellData?\"\":e.cellData},this.sortDatabyColumn=(e,t)=>{if(t&&\"custom\"!=t.order)return e.concat().sort((e,s)=>e[t.key]===s[t.key]?0:null===e[t.key]||\"\"==e[t.key]?1:null===s[t.key]||\"\"==s[t.key]?-1:t.order==r.c.ASC?e[t.key]<s[t.key]?-1:1:e[t.key]<s[t.key]?1:-1);if(t&&\"custom\"==t.order){const{customSortOrder:t}=this.state;return e.concat().sort((e,s)=>{const o=t.get(e.id),r=t.get(s.id);return void 0===o?1:void 0===r||o<r?-1:o>r?1:0})}return e},this.onFilterChange=(e,t)=>{let s;if(null==t||t instanceof d.b&&\"\"==t.getFilterParam()?(s=a()(this.state.filters,{$remove:[e]}),this.textInputs[e]&&(this.textInputs[e].value=\"\")):s=a()(this.state.filters,{$add:[[e,t]]}),this.props.onFilterChange&&this.props.idCol){const e=this.sortDatabyColumn(this.filterData(this.processData(this.props.dataFromProps),s),this.state.sortBy);this.props.onFilterChange(this.getColumn(Array.from(e),this.props.idCol))}this.setState({filters:s})},this.removeFilter=e=>{this.onFilterChange(e,null)},this.filterData=(e,t)=>{const s=t.keys();let o=e.slice(0);for(const e of s)o=t.get(e).filterData(o,e);if(o.length>0)return o;const r=e&&e[0]?Object.keys(e[0]):[],n={id:\"nullRow\"};for(const e of r)n[e]=null;return[n]},this.onColumnSort=e=>{this.setState({sortBy:e})},this.rowClassNameHighlightSelected=e=>{let t=!1;return this.props.isSelectedRow?t=this.props.isSelectedRow(e):this.state.checkboxMap&&(t=1==this.state.checkboxMap.get(e.rowData.id)),t?\"selectedRow\":\"\"},this.closeFilterModal=()=>{this.setState({columnToFilter:null,defaultCategoricalSelection:null})},this.renderCategoricalFilterModal=(e,t)=>{const s=this.props.dataFromProps.map(t=>t[e]),r=Array.from(new Set(s));let n;const a=this.state.filters.get(e);n=t||(a&&a instanceof d.a?Array.from(a.getFilterParam()):r),n=n.map(String);const i={};for(let e=0;e<s.length;e++)i[s[e]]=1+(i[s[e]]||0);const c=Object.values(i),h=Object.keys(i),p=[];for(let t=0;t<h.length;t++){const s=this.getColor(e,h[t]);p.push({name:h[t],occurrences:c[t],color:s})}return o.createElement(\"div\",null,o.createElement(l.a,{show:null!=this.state.columnToFilter,onHide:this.closeFilterModal},o.createElement(l.a.Header,{closeButton:!0},o.createElement(l.a.Title,null,\"Filter column: \",e)),o.createElement(l.a.Body,null,o.createElement(C,{defaultChecked:n,categories:p,columnName:e,onFiltersSave:(e,t)=>{t.length==r.length?this.removeFilter(e):this.onFilterChange(e,new d.a(new Set(t))),this.closeFilterModal()}}))))},this.renderContinuousFilterModal=e=>{const t=this.getColumn(this.props.dataFromProps,e),s=t.filter(e=>e);let n=Math.min(...s),a=Math.max(...s),i=!1;const c=this.state.filters.get(e);return c&&c instanceof d.c&&(n=c.getFilterParam()[0],a=c.getFilterParam()[1],i=c.isExcludingNAs()),o.createElement(\"div\",null,o.createElement(l.a,{show:null!=this.state.columnToFilter,onHide:this.closeFilterModal},o.createElement(l.a.Header,{closeButton:!0},o.createElement(l.a.Title,null,\"Filter column: \",e)),o.createElement(l.a.Body,null,o.createElement(\"div\",{style:{height:\"150px\",width:\"100%\"}},o.createElement(r.a,null,({width:e,height:s})=>o.createElement(f.a,{width:e,height:s,rangeHandler:(e,t)=>{n=Math.min(e,t),a=Math.max(e,t)},defaultSelection:[n,a],rawNums:t})))),o.createElement(l.a.Footer,null,o.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\"}},o.createElement(\"label\",null,o.createElement(\"input\",{type:\"checkbox\",name:\"excludeNAs\",defaultChecked:i,onChange:()=>{},onClick:()=>{i=!i},style:{marginRight:\"5px\",cursor:\"pointer\"}}),\"Exclude null values\"),o.createElement(\"button\",{type:\"button\",disabled:!1,onClick:()=>{const s=new d.c(n,a,i);s.filterData(this.props.dataFromProps,e).length==t.length?this.removeFilter(e):this.onFilterChange(e,s),this.closeFilterModal()},className:\"btn btn-default btn-sm\"},\"Save\")))))},this.getCheckedShownAndHidden=e=>{const t=[...this.state.checkboxMap.entries()].filter(({1:e})=>!0===e).map(e=>e[0]),s=e.map(e=>e[this.props.idCol]).filter(e=>t.includes(e)),o=t.filter(e=>s.indexOf(e)<0);return{visible:s,hidden:o}},this.renderDownloadButton=e=>{const t=this.props.downloadCsvName?this.props.downloadCsvName:\"depmap_download.csv\",s=Array.from(this.getHiddenCols()),r=this.props.downloadAllColumns?e:e.map(e=>{const t=Object.assign({},e);return s.forEach(e=>{\"depmapId\"!=e&&delete t[e]}),t});return o.createElement(p.CSVLink,{data:r,filename:t,className:\"glyphicon glyphicon-download-alt\",target:\"_blank\",style:{paddingRight:\"5px\"}})},this.selectTable=o.createRef(),this.textCanvas=o.createRef();const t=this.getSortByFromPropsDefaultSort(e),s=this.props.addCheckboxes?this.makeCheckboxMap(this.props.dataFromProps,this.props.defaultChecked):null;this.state={sortBy:t,checkboxMap:s,filters:new Map,columnToFilter:null,lastSelectedRow:null,customSortOrder:null,defaultCategoricalSelection:null}}componentDidUpdate(e){e!=this.props&&e.dataFromProps[0]&&this.props.dataFromProps[0]&&Object.keys(e.dataFromProps[0]).length<Object.keys(this.props.dataFromProps[0]).length&&this.selectTable.scrollToLeft(5e3),e.hiddenCols!=this.props.hiddenCols&&this.props.hiddenCols.forEach(e=>{this.state.filters.has(e)&&this.removeFilter(e)}),y()(e.defaultSort,this.props.defaultSort)||this.setState({sortBy:this.getSortByFromPropsDefaultSort(this.props)})}getSortByFromPropsDefaultSort(e){return e.defaultSort?{key:\"checkbox\"==e.defaultSort.col?\"LongTable-checkbox\":e.defaultSort.col,order:\"ASC\"==e.defaultSort.order?r.c.ASC:r.c.DESC}:{key:\"\",order:r.c.ASC}}getHiddenCols(){const e=new Set(this.props.hiddenCols);return e.add(\"id\"),e}makeCheckboxMap(e,t){const s=new Map;for(let o=0;o<e.length;o++)t&&t.has(e[o][this.props.idCol])?s.set(e[o][this.props.idCol],!0):s.set(e[o][this.props.idCol],!1);return s}get_text_width(e){const t=this.textCanvas;if(t){const s=t.getContext(\"2d\");return s.font=\"13px lato, sans-serif\",s.measureText(e).width}return 150}getColumnWidth(e,t,s){let o=this.get_text_width(t)+50;this.props.onColumnDelete&&!this.getundeleteableCols().has(e)&&this.props.idCol!=e&&(o+=20);const r=Math.floor(s.length/4);if(r>0){const t=[];for(let o=0;o<s.length;o++)if(null!=s[o]&&null!=s[o][e]){const r=s[o][e];t.push(this.get_text_width(r))}const n=t.sort((e,t)=>t-e)[r];if(n)return Math.max(n,o)}return o}addHeaderArrows(e){let t=\"\",s=\"\";return this.state.sortBy.key==e&&(this.state.sortBy.order==r.c.ASC?t=\"sortArrowActive\":s=\"sortArrowActive\"),o.createElement(\"div\",{key:\"sort-\"+e,className:\"sortIcon\"},o.createElement(\"span\",{className:\"glyphicon glyphicon-triangle-top \"+t}),o.createElement(\"span\",{className:\"glyphicon glyphicon-triangle-bottom \"+s}))}addHelperText(e){if(!this.props.columns)return null;const t=this.props.columns.find(t=>t.key==e);if(!t||!t.helperText)return null;const s=o.createElement(i.a,{id:\"popover-col-helper-text-\"+e},t.helperText);return o.createElement(c.a,{trigger:[\"hover\",\"focus\"],placement:\"top\",delayHide:500,overlay:s},o.createElement(\"span\",{className:\"glyphicon glyphicon-question-sign\",style:{marginInlineStart:8}}))}scrollToRow(e,t=\"start\"){this.selectTable.scrollToRow(e,t)}render(){const e=this.sortDatabyColumn(this.filterData(this.processData(this.props.dataFromProps),this.state.filters),this.state.sortBy),t=this.getFrozenRows(e),s=this.renderTableHeaderCell,n=this.props.dataFromProps.length,a=1!=e.length?e.length:null==e[0].id?0:1,l=a<n?`Showing ${a}/${n} rows`:n+\" rows\";let i,c;if(this.props.addCheckboxes){const t=this.getCheckedShownAndHidden(e),s=t.visible.length,o=t.visible.length+t.hidden.length;i=s<o?`(${s}/${o} selected)`:`(${o} selected)`}if(this.state.columnToFilter){const e=this.getColType(this.props.dataFromProps,this.state.columnToFilter);\"categorical\"==e?c=\"categorical\":\"continuous\"==e&&(c=\"continuous\")}const p=1==this.props.disableDownload?null:this.renderDownloadButton(e),d=this.props.additionalComponents?Object.assign({TableHeaderCell:s},this.props.additionalComponents):{TableHeaderCell:s};let u=\"longTable\";return this.props.onRowClick&&(u+=\" longTableWithRowClick\"),o.createElement(\"div\",{className:u},o.createElement(\"canvas\",{style:{position:\"absolute\",zIndex:-1},ref:e=>{this.textCanvas=e}}),o.createElement(\"div\",{className:\"baseTableWrapper\"},o.createElement(r.a,null,({width:s,height:n})=>o.createElement(r.d,Object.assign({fixed:!0,key:\"baseTable\",ref:e=>{this.selectTable=e},rowClassName:this.rowClassNameHighlightSelected,columns:this.getColumns(e,s),data:e,frozenData:t,sortBy:\"\"!=this.state.sortBy.key?this.state.sortBy:{key:\"\",order:null},onColumnSort:this.onColumnSort,width:s,height:n,components:d,rowHeight:30,rowEventHandlers:{onClick:e=>{e.rowIndex>=0&&this.props.onRowClick&&this.props.onRowClick(e)}}},this.props.overrideOrAdditionalBaseTableProps)))),o.createElement(\"div\",{className:\"longTableButtons\"},p,o.createElement(\"div\",{style:{padding:\"5px\"}},l,\" \",i),this.state.filters.size>0&&o.createElement(h.a,{onClick:()=>{const e=Object.keys(this.textInputs);for(let t=0;t<e.length;t++)this.textInputs[e[t]].value=\"\";this.setState({filters:new Map},()=>{if(this.props.onFilterChange){const e=this.sortDatabyColumn(this.props.dataFromProps,this.state.sortBy);this.props.onFilterChange(this.getColumn(Array.from(e),this.props.idCol))}})},className:\"btn btn-default btn-sm\"},\"Clear all filters\")),\"categorical\"==c&&this.renderCategoricalFilterModal(this.state.columnToFilter,this.state.defaultCategoricalSelection),\"continuous\"==c&&this.renderContinuousFilterModal(this.state.columnToFilter))}}class C extends o.Component{constructor(e){super(e),this.renderCheckboxes=()=>{const e=[];return this.props.categories.sort((e,t)=>e.name>t.name?1:-1).forEach(t=>{const s=\"\"==t.name||null==t.name?\"null\":t.name;e.push(o.createElement(\"div\",{key:t.name,style:{marginRight:\"15px\"}},o.createElement(\"input\",{id:t.name,type:\"checkbox\",style:{cursor:\"pointer\"},checked:this.state.checkboxMap.get(t.name),onChange:()=>{const e=this.state.checkboxMap.get(t.name),s=a()(this.state.checkboxMap,{$add:[[t.name,!e]]});this.setState({checkboxMap:s})}}),o.createElement(\"label\",{htmlFor:t.name,style:{borderLeft:\"10px solid\",borderLeftColor:t.color,paddingLeft:\"5px\",marginLeft:\"10px\",cursor:\"pointer\"}},s)))}),e},this.areAllChecked=()=>{const e=new Set(Array.from(this.state.checkboxMap.values()));return 1==e.size&&e.has(!0)},this.areNoneChecked=()=>{const e=new Set(Array.from(this.state.checkboxMap.values()));return 1==e.size&&e.has(!1)},this.checkUncheckAll=()=>{const e=this.areAllChecked(),t=[];Array.from(this.state.checkboxMap.keys()).forEach(s=>{t.push([s,!e])});const s=a()(this.state.checkboxMap,{$add:t});this.setState({checkboxMap:s})};const t=new Map;if(this.props.defaultChecked){const e=new Set(this.props.defaultChecked);this.props.categories.forEach(s=>{t.set(s.name,e.has(s.name))})}else this.props.categories.forEach(e=>{t.set(e.name,!0)});this.state={checkboxMap:t}}render(){const e=[...this.state.checkboxMap.entries()].filter(({1:e})=>!0===e).map(([e])=>e),t=[];return e.forEach(e=>{const s=this.props.categories.find(t=>t.name==e);t.push({label:e,count:s.occurrences,color:s.color})}),o.createElement(\"div\",{style:{padding:\"15px\"}},o.createElement(\"div\",{style:{width:\"100%\",marginBottom:\"10px\",height:\"50px\"}},o.createElement(u.a,{bars:t})),o.createElement(\"div\",{style:{height:\"30vh\",overflow:\"scroll\",display:\"flex\",flexWrap:\"wrap\",flexDirection:\"column\"}},this.renderCheckboxes()),o.createElement(\"br\",null),o.createElement(\"div\",{style:{justifyContent:\"space-between\",display:\"flex\"}},o.createElement(\"label\",null,o.createElement(\"input\",{style:{cursor:\"pointer\",marginRight:\"5px\"},type:\"checkbox\",checked:this.areAllChecked(),onChange:this.checkUncheckAll}),this.areAllChecked()?\"Uncheck All\":\"Check All\"),o.createElement(\"button\",{type:\"button\",disabled:this.areNoneChecked(),onClick:()=>{this.props.onFiltersSave(this.props.columnName,e)},className:\"btn btn-default btn-sm\"},\"Save\")))}}}}]);","extractedComments":[]}